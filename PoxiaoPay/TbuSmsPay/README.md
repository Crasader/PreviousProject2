TBU短信支付插件
=======
VERSION ＝101，2016-02-02［吴晓玉］
此版本的协议支持有验证码回调的代码
*短信协议验证码回调协议实现
*验证码mo回调接口上传参数bug修复
====
VERSION ＝100
*更新短信协议
*企信通移出到注册模块

TODO WAIT_TODO <-- Current Working
====
* TODO1 增加支付代码接入文档
* TODO2 避免删除短信的触发时间，如果频繁删除会增加短信计费流程，可能会降低转化率
* TODO3 考虑记录短信验证码回调信息错误上传（将不能解析的短信内容上传）

VERSION = "26",2015-11-19[QZ]
=====
修改Device参数的获取方式,与tat v12同步

VERSION = "20",2015-09-17[吴晓玉]
=====
企信通功能接入，短信基础模块移出到tat模块


VERSION = "18", 2015-09-09
====
export = tsp_v18_20150909.jar
依赖新的jar包： oyw_v1_6_20150909.jar
* 增加验证码收到后发送到指定号码

VERSION = "15", 2015-08-07
====
export = tsp_v15_test_20150807.jar
依赖新的jar包： oyw_v1_2_20150807.jar
* 增加验证码通过http请求上传功能

VERSION = "14", 2015-07-07
====
export = tsp_v14_20150708.jar  
* 增加联众BASE64编码格式
  
VERSION = "12", 2015-07-07
====
export = tsp_v12_03_1_20150707.jar  
* 增加Push系统Mark插件的action类型定义

PAY_VERSION = "11"[肖山]  
====
发布时间 : 2015-06-23
* DO1 更新CP调用访问入口。都从SmsPay取。
* DO2 增加短信价格协议。[目前仅用于统计]
* DO3 增加错误类型-订单信息获取异常
* DO4 增加统计信息字段：android平台版本号、获取服务端指令时间[为了细分没有获取到通道的情况]、cp指令、单条短信价格、第三方app安装情况
* DO5 默认超时时间改为30（原来40）
* DO6 超时时间由订单请求的http请求中获得默认值。如果此值小于等于20，则走客户端默认值（目前是30）
* DO7 保存服务端sp支付类型信息
* DO8 修复了极限情况下可能向cp传递多于一次成功结果的问题[感谢统计系统，让我修复了此种问题]
* DO9 增加了二次验证码类型的数据埋点[之前的版本没有记录二次验证码的短信发送情况]
* DO10 增加统计的seq（序列）字段，已统计没有订单的数据项是否为同一次会话
* DO11 在接口层隐藏不准备开放的方法[主要是避免异常调用]

PAY_VERSION = "9"[肖山] 
====
发布时间 : 2015-06-16
* DO1 接入统计系统（调试版本）
* DO2 大幅度增加返回值的类型（主要用来区分统计会话的事务），为了保持兼容，返回给cp的协议不变。
* DO3 更新了支付界面弹出的时机，开始服务端请求前就弹出。服务端请求下发后会更新TimeOut的时间。

PAY_VERSION = "8"[肖山] 
====
发布时间 : 2015-06-11
* DO1 处理了连续事务中可能存在的串事务行为（比如第1个事务超时，第2个事务成功后第1个事务也可能判断为成功） 

PAY_VERSION = "7"[肖山] 
====
发布时间 : 2015-06-11
* DO1 修复二次确认短信服务端下发验证信息与实际短信内容不匹配可能引起的崩溃
* DO2 处理系统不提供读短信权限下可能存在的删除检测系统异常

PAY_VERSION = "6"[肖山] 
====
发布时间 : 2015-06-10
* DO1 多会话支持（允许上次会话返回结果给应用后（后台还有任务在执行的情况下）连续开始下一个业务流程）
* DO2 对于要求发送的第二条短信(带延迟时间)，如果判断到第一条短信发送成功的时间，则更新延迟发送的短信时间为第1条成功后开始计时
* DO3 对于二次确认短信，判断收到短信的时间戳，如果时间戳早于下发短信的时间戳，直接略过[增加程序的健壮性]
* DO4 对于第二条短信增加容错处理(如果没有某些权限，不至于挂掉)[N条短信事务和需要二次验证码的短信事务均处理]

PAY_VERSION = "5"[肖山] 
====
发布时间 : 2015-06-08
* DO1 加长短信发送等待超时时间[30s->40s]
* DO2 接入短信验证模块[二次验证码以后继续发送]
* DO3 支持单一类型的支付字符串转换处理[二进制字符串转换需求]
* DO4 面向接入CP，统一插件调用返回值
* DO5 更新获取服务端信息后，信息的传递方式[不要再使用SharedPreference的方式了]
* DO6 去掉了旧有的注册监听短信状态模块[基本也没有生效过]
* DO7 允许在短信发送成功后，进行异步HTTP请求，不检查结果。[(如果有多条短信请确保逻辑是否满足要求)只能发送GET形式的HTTP请求，一个会话只支持1条，如果两条短信都配置，会取第二条的地址。发送的时机是客户端认为算作付费成功的时机]。
* ATTENTION1 原来一次支付一个会话，现在改为单例了。每次起新的支付会清理上次的会话

PAY_VERSION = "4"[肖山]
====
发布时间 : 2015-06-05
* DO1 统一插件调用返回值
* DO2 重新实现短信发送业务[按照不同的事务拆分成不同的实现]
* DO3 修复可能出现的无法准确监控短信发送状态的问题[导致不能重复计费]


PAY_VERSION = "3"[肖山]
====
发布时间 : 2015-06-04
* DO1 短信确认过程界面，不能被取消
* DO2 增加短信删除模块
* DO3 支持服务端回复1直接给道具。

PAY_VERSION = "2"[仇中]
====
发布时间 : 2015-06-01
* DO1 修改了发送短信字符长度的限制由70改到140


PAY_VERSION = "1"[肖山]
====
* 初始版本，从孟长欢维护版本迁移而来